Здесь есть разные подходы, в том числе
и работа с сервером. Но если мы хотим что-то сохранить на стороне клиента, соответственно, в браузере пользователя мы тоже можем это сделать. 

У нас в инструменте разработчика есть
такая вкладка, она называется `Application`. Здесь есть различные виды памяти Storage, и каждый их них мы можем использовать
для хранения информации. 

Нас сейчас интересует такая штука
как `Local Storage`. Две очень похожие истории: `Local Storage` и `Session Storage`.  Отличаются они тем, что `Session Storage` будет хранить что-то в рамках сессии. Вот пользователь зашел на наш сайт, и пока он не закрыл браузер, мы храним какую-то информацию. Как только он закрыл браузер, вся информацию исчезает.

`Local Storage` работает по-другому, даже после того, как пользователь ушел с сайта, у него в браузере сохранилось однозначное соответствие, адрес с сайта, на котором он был
и ту информацию, которую он привязал у себя в памяти в браузере. 

В частности в `Local Storage` и `Session Storage` мы будем видеть примерно такую же историю, что есть какой-то ключ и к этому ключу
какое-то значение хранится.

Здесь важно сразу договориться, что мы можем хранить здесь только строки. 

Если быть корректным, мы можем
хранить всё, что угодно, даже объекты, массивы, булевые значения и так далее, мы должны будем преобразовать это к `JSON-строке`.

Как с этим работать? Мы можем обратиться `Local Storage` либо `Session Storage`, используя глобальный объект `window`.
```js
window.localStorage
window.sessionStorage
```
Так как это глобальный объект, мы можем от `window` в данном случае отказаться, используя их напрямую.
```js
localStorage.setItem('todos', '123')
```
Мы будем работать `Local Storage`, но все команды, которые посмотрим, они актуальны для `Session Storage` тоже. 

Первое – это штука для установления данных. Мы можем сказать, что мне нужно
сохранить данные под каким-то именем, допустим, я говорю: сохрани мне данные
под именем `todos`, а дальше сами эти данные
должны передать. Если это массив, то мы должны сделать `JSON stringify` и так далее,
но давайте для примера пока что просто напишем 1, 2, 3, и мы видим, что у нас хранится пара: ключ и значение.

Если в дальнейшем мы хотим просчитать эти значения, мы снова обращаемся к `Local Storage`, мы говорим: `getItem`, выдай нам
какой-то набор данных по ключу, и этот ключ мы указываем.
```js
localStorage.getItem('todos'); // '123'
```
Мы указываем ключ и получаем значение, получаем его в строке.

Мы сохранили в строке и получили в строке. Если мы вдруг укажем несуществующий ключ, мы получим просто `null`.

У нас есть метод `clear`. Вызвав его один раз, мы можем взять и очистить всё то, что есть в `Local Storage`.
```js
localStorage.clear();
```

Давайте попробуем воспроизвести эту историю на нашем примере со списком дел. У нас есть процесс создания дел, и мы здесь используем некий `createTodo`  и куда-то его там отправляем. 

Поэтому давайте напишем отдельную функцию.
Отдельная функция, которая будет называться `saveToStorage`, сохранить `Storage`, и оно будет
принимать у нас определенную `Todo`.
```js
if(newTodo) {
 //add todo
 createTodo(newTodo);
 saveToStorage(newTodo);
 this.previousElementSibling.value = '';
} else {
 alert('input field is empty ');
}

function saveToStorage(todo) {
 const todos = JSON.parse(localStorage.getItem('tasks')) || [];
 localStorage.setItem('tasks', JSON.stringify([...todos, todo])); 
}
```
Поэтому здесь я скажу, что если ничего
ты здесь не получил, если здесь `null`, пускай это будет пустой массив, я буду работать с этим как с массивом. Здесь мы получим в любом случае строку. Поэтому, чтобы нам работать не со строкой, мы здесь сделаем `JSON.parse`.

Мы обратимся к `Local Storage` и скажем: запиши значение по известному нам уже ключу, запиши туда нечто, что нужно будет преобразовать к `JSON-строке`. Это нечто будет массив, в котором будут уже известны
нам списки `todos`, и в котором дополнительно добавится один новый `todo`.

Замечательно, мы уже умеем сохранять информацию, но при обновлении она по-прежнему у нас не отображается, хотя у нас сохранилась в Local Storage. 

Но мы можем просто при загрузке проверять, есть ли там что-то, если есть, уже отрисовывать всё это дело и есть особое событие, которое проверяет, что страница полностью загружена, и она называется `DOMContentLoaded`.
```js
document.addEventListener('DOMContentLoaded', loadTodos);

function loadTodos() {
 const todos = JSON.parse(localStorage.getItem('tasks'));

 if(todos) {
  todos.forEach(todo => createTodo(todo));
 }
}
```

